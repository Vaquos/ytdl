"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.YouTubeSearch = void 0;
const yt_search_1 = __importDefault(require("yt-search"));
const ytdl_core_1 = __importDefault(require("ytdl-core"));
class YouTubeSearch {
    url;
    constructor(url) {
        this.url = url;
    }
    getAllVideo() {
        return new Promise((resolve, reject) => {
            (0, yt_search_1.default)({ query: this.url })
                .then((result) => resolve(result))
                .catch((error) => reject(error));
        });
    }
    getSpecificVideo() {
        return new Promise((resolve, reject) => {
            if (ytdl_core_1.default.validateURL(this.url)) {
                (0, yt_search_1.default)({ videoId: ytdl_core_1.default.getVideoID(this.url) })
                    .then((result) => resolve(result))
                    .catch((error) => reject(error));
            }
            else {
                (0, yt_search_1.default)({ query: this.url })
                    .then(({ videos }) => resolve(videos[0]))
                    .catch((error) => reject(error));
            }
        });
    }
}
exports.YouTubeSearch = YouTubeSearch;
